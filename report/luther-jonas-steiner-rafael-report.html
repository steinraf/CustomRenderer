<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Computer Graphics - PA4</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/offcanvas.css" rel="stylesheet">
    <link href="resources/custom2014.css" rel="stylesheet">
    <link href="resources/twentytwenty.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="container headerBar">
		<h1>Final Project Report - Jonas Luther and Rafael Steiner</h1>
</div>

<div class="container contentWrapper">
<div class="pageContent">

	<!-- ================================================================= -->

	<h2>Part 1: Environment Map Sampling</h2>

	<p>Copium</p>

    <div class="twentytwenty-container">
        <img src="images/envmapCDF.png" alt="Rowwise CDF" class="img-responsive">
        <img src="images/envmapSampling.png" alt="Sampling Density" class="img-responsive">
        <img src="images/beach.png" alt="Original Environment Map" class="img-responsive">
    </div> <br>



    <br> <br> <br> <br>

    <p>Cornell box scene</p>

    <div class="twentytwenty-container">
        <img src="images/cbox_path_mats.png" alt="Mats" class="img-responsive">
        <img src="images/cbox_path_mis.png" alt="Mis" class="img-responsive">
        <img src="images/cbox_path_mis_512spp.png" alt="Reference" class="img-responsive">
    </div> <br>

    <p>Table scene</p>

    <div class="twentytwenty-container">
        <img src="images/table_path_mats.png" alt="Mine" class="img-responsive">
        <img src="images/table_path_mis.png" alt="Mine" class="img-responsive">
        <img src="images/table_path_mis_512spp.png" alt="Reference" class="img-responsive">
    </div> <br>

	<!-- ================================================================= -->

    <h2>Part 3: Photon Mapping</h2>

    <p> I briefly looked into parallelizing the Photon gathering, but then decided to not pursue it further as the parallelization is not absolutely trivial because
    each ray emitted can contribute from zero up to a theoretically unlimited which would then require a final reduction over all threads which was beyond the scope of this exercise. </p>

    <h3>Implementation</h3>

    <p>After realizing that m_photonCount and m_emittedPhotons are distinct, the implementation was pretty forward.</p>

    <h3>Validation</h3>

    <p>The Cornell Box has a 0.000 mean with respect to the reference, while the other two scenes have a 0.001 mean according to tev (which could maybe be fixed by 'overfitting' the RR conditions to the 3 scenes, like for example having a minimum bounce count or something like that)</p>

    <p>Cornell box scene</p>

    <div class="twentytwenty-container">
        <img src="images/cbox_pmap_32spp_10Mp.png" alt="Reference" class="img-responsive">
        <img src="images/cbox_pmap.png" alt="Mine" class="img-responsive">
    </div> <br>

    <p>Table scene</p>

    <div class="twentytwenty-container">
        <img src="images/table_pmap_256spp_5Mp.png" alt="Reference" class="img-responsive">
        <img src="images/table_pmap.png" alt="Mine" class="img-responsive">
    </div> <br>

    <p>Clocks scene</p>

    <div class="twentytwenty-container">
        <img src="images/clocks_64spp_10Mp.png" alt="Reference" class="img-responsive">
        <img src="images/clocks.png" alt="Mine" class="img-responsive">
    </div> <br>
</div>
</div>


<!-- Bootstrap core JavaScript -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="resources/bootstrap.min.js"></script>
<script src="resources/jquery.event.move.js"></script>
<script src="resources/jquery.twentytwenty.js"></script>


<script>
$(window).load(function(){$(".twentytwenty-container").twentytwenty({default_offset_pct: 0.5});});
</script>

</body>
</html>
